import React, { useState, useEffect } from "react";
import { Row, Col, Card, Button, List, Avatar } from "antd";
import VirtualList from "rc-virtual-list";
import {
  CloudDownloadOutlined,
  CommentOutlined,
  CrownOutlined,
  CustomerServiceOutlined,
  GoogleOutlined,
  GlobalOutlined,
} from "@ant-design/icons";
import { processingfetchingDeposit } from "../common/script";
const ContainerHeight = 300;
const Home = () => {
  const [depositsListState, setDepositsList] = useState([]);
  useEffect(() => {
    asyncFetchStates();
  }, []);
  async function asyncFetchStates() {
    setDepositsList(await processingfetchingDeposit());
  }
  const depositList=depositsListState.filter(record=>record.earned!=='-')
  return (
    <Col>
      <Row
        style={{
          padding: "10px",
          justifyContent: "center",
          alignItems: "center",
        }}
      >
        <Col span={24}>
          <Card bodyStyle={{ padding: 5 }}>
            <Col span={24}>
              <Row>
                <Col span={8} style={{ padding: 5 }}>
                  <Button
                    type="text"
                    style={{ height: 100 }}
                    icon={<CrownOutlined style={{ fontSize: "20px" }} />}
                    block
                  >
                    <br /> Official
                  </Button>
                </Col>
                <Col span={8} style={{ padding: 5 }}>
                  <Button
                    style={{ height: 100 }}
                    type="text"
                    icon={<CommentOutlined style={{ fontSize: "20px" }} />}
                    block
                  >
                    <br />
                    Help Center
                  </Button>
                </Col>
                <Col span={8} style={{ padding: 5 }}>
                  <Button
                    style={{ height: 100 }}
                    type="text"
                    icon={
                      <CloudDownloadOutlined style={{ fontSize: "20px" }} />
                    }
                    block
                  >
                    <br /> DownLoad Center
                  </Button>
                </Col>
              </Row>
              <Row>
                <Col span={8} style={{ padding: 5 }}>
                  <Button
                    style={{ height: 100 }}
                    type="text"
                    icon={<GlobalOutlined style={{ fontSize: "20px" }} />}
                    block
                  >
                    <br /> Language
                  </Button>
                </Col>
                <Col span={8} style={{ padding: 5 }}>
                  <Button
                    style={{ height: 100 }}
                    type="text"
                    icon={
                      <CustomerServiceOutlined style={{ fontSize: "20px" }} />
                    }
                    block
                  >
                    <br /> Customer service
                  </Button>
                </Col>
                <Col span={8} style={{ padding: 5 }}>
                  <Button
                    style={{ height: 100 }}
                    type="text"
                    icon={<GoogleOutlined style={{ fontSize: "20px" }} />}
                    block
                  >
                    <br /> About us
                  </Button>
                </Col>
              </Row>
            </Col>
          </Card>
        </Col>
      </Row>
      <Row
        style={{
          padding: "10px",
          justifyContent: "center",
          alignItems: "center",
        }}
      >
        <Card
          title="Transaction data"
          bodyStyle={{ padding: 5 }}
          style={{ width: "100%" }}
        >
          <List>
            <VirtualList
              data={depositList}
              height={ContainerHeight}
              itemHeight={47}
              itemKey="email"
            >
              {(item) => (
                <List.Item key={item.created_at}>
                  <List.Item.Meta
                    avatar={<Avatar src={"./assets/dashboard/avatar.png"} />}
                    title={item.txhash}
                  />
                  <Col>
                    <Row>
                      <p
                        style={{
                          color: "#086418",
                          marginBottom: 0,
                          marginRight: 20,
                        }}
                      >
                        Profit: {item.earned}
                      </p>
                    </Row>
                    <Row>
                      <p
                        style={{
                          color: "#5e636e",
                          marginBottom: 0,
                          marginRight: 20,
                        }}
                      >
                        Transaction amount:{item.amount}
                      </p>
                    </Row>
                  </Col>
                </List.Item>
              )}
            </VirtualList>
          </List>
        </Card>
      </Row>
    </Col>
  );
};

export default Home;
