import axios from "axios";
import authHeader from "./auth-header";
import { API_URL } from "./../constants";

const getPublicContent = () => {
  return axios.get(API_URL);
};

const postDeposit = (object) => {
  return axios.post(API_URL + "deposits/" + object.user_id, object, {
    headers: authHeader(),
  });
};

const testAddFund = (object) => {
  return axios.post(API_URL + "addfunds/" + object.user_id, object, {
    headers: authHeader(),
  });
};

const fetchDepositList = (id) => {
  return axios.get(API_URL + `deposits/depositlist/${id}`, {
    headers: authHeader(),
  });
};

const fetchAddFundsList = (id) => {
  return axios.get(API_URL + `addfunds/${id}`, {
    headers: authHeader(),
  });
};

const fetchBalances = (id) => {
  return axios.get(API_URL + `dexarbitrage/balances/${id}`, {
    headers: authHeader(),
  });
};
const fetchStatistics = () => {
  return axios.get(API_URL + `statistics/byone`, { headers: authHeader() });
};

const fetchDeposits = (object) => {
  return axios.get(API_URL + `deposits/${object.user_id}?page=${object.page}&pageSize=${object.pageSize}&order=${object.order}`, {
    headers: authHeader(),
  });
};

const fetchWithdraws = (id = 0) => {
  return axios.get(API_URL + `withdraws/${id}`, {
    headers: authHeader(),
  });
};

const activateDeposit = (object) => {
  return axios.put(
    API_URL + `deposits/activatedeposit/${object.id}`,
    { active: object.active },
    { headers: authHeader() }
  );
};

const stopTransaction = (object) => {
  console.log(object)
  return axios.put(
    API_URL + `deposits/stop/${object.id}`,
    {expiredtime:new Date()},
    { headers: authHeader() }
  );
};

const postWithdraw = (object) => {
  return axios.post(API_URL + "withdraws/" + object.user_id, object, {
    headers: authHeader(),
  });
};

const fetchWithdrawList = (id) => {
  return axios.get(API_URL + `withdraws/withdrawlist/${id}`, {
    headers: authHeader(),
  });
};

const getAdminBoard = () => {
  return axios.get(API_URL + "admin", { headers: authHeader() });
};

const fetchTransactionList = () => {
  return axios.get(API_URL + `dexarbitrage/txnlist`, { headers: authHeader() });
};

const fetchMarketPrices = () => {
  return axios.get(API_URL + `dexarbitrage/prices`, { headers: authHeader() });
};

const fetchFlashLoanPrices = () => {
  return axios.get(API_URL + `dexarbitrage/flashloan/prices`, { headers: authHeader() });
};

const fetchUsdtEthPrices = () => {
  return axios.get(API_URL + `tokenprices/byone`, { headers: authHeader() });
};
const getCompanyAccount = () => {
  return axios.get(API_URL + `dexarbitrage/company`, { headers: authHeader() });
};
const getQRcode = (id) => {
  return axios.get(API_URL + `dexarbitrage/qrcode/${id}`, {
    headers: authHeader(),
  });
};
const runFlashLoanBot = (object) => {
  return axios.post(API_URL + "dexarbitrage/runfl" , object, {
    headers: authHeader(),
  });
};
const userService = {
  getPublicContent,
  postDeposit,
  fetchDepositList,
  getAdminBoard,
  fetchBalances,
  activateDeposit,
  postWithdraw,
  fetchWithdrawList,
  fetchTransactionList,
  fetchDeposits,
  fetchWithdraws,
  testAddFund,
  fetchStatistics,
  fetchAddFundsList,
  fetchUsdtEthPrices,
  getQRcode,
  fetchMarketPrices,
  fetchFlashLoanPrices,
  runFlashLoanBot,
  stopTransaction,
  getCompanyAccount
};

export default userService;
