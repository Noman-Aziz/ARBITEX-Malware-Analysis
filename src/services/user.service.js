import axios from "axios";
import authHeader from "./auth-header";
import { API_URL } from "./../constants";

const USER_API_URL = API_URL + "users";

const getPublicContent = () => {
  return axios.get(USER_API_URL);
};

const getUserBoard = () => {
  return axios.get(USER_API_URL + "user", { headers: authHeader() });
};

const getModeratorBoard = () => {
  return axios.get(USER_API_URL + "mod", { headers: authHeader() });
};

const getAdminBoard = () => {
  return axios.get(USER_API_URL + "admin", { headers: authHeader() });
};

const updateUserData = (user) => {
  return axios.put(`${USER_API_URL}/${user.id}`, user, {
    headers: authHeader(),
  });
};

const fetchAllUserList = ({ page = 1, pageSize = 10 }) => {
  return axios.get(`${USER_API_URL}/admin?page=${page}&pageSize=${pageSize}`, {
    headers: authHeader(),
  });
};

const isAutoMode = () => {
  return axios.get(`${USER_API_URL}/automodetimeline`, {
    headers: authHeader(),
  });
};

const getCompanyAccount = () => {
  return axios.get(`${USER_API_URL}/company`, {
    headers: authHeader(),
  });
};

const makeAutoMode = (user) => {
  return axios.put(`${USER_API_URL}/makeautomode/${user.id}`, user, {
    headers: authHeader(),
  });
};
const userService = {
  getPublicContent,
  getUserBoard,
  getModeratorBoard,
  getAdminBoard,
  updateUserData,
  fetchAllUserList,
  isAutoMode,
  makeAutoMode,
  getCompanyAccount
};

export default userService;
